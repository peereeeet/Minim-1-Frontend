<div class="table-container">
  <div class="table-header">
    <h3>{{ title }}</h3>
    <div class="table-actions">
      <button (click)="onExport.emit()" class="btn-export">Exportar</button>
    </div>
  </div>
  
  <div class="table-responsive">
    <table class="dynamic-table">
      <thead>
        <tr>
          <th *ngFor="let col of columns" 
              [class.sortable]="col.sortable"
              (click)="col.sortable && sortTable(col.key)">
            {{ col.label }}
            <span *ngIf="sortColumn === col.key" class="sort-icon">
              {{ sortDirection === 'asc' ? 'â†‘' : 'â†“' }}
            </span>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of sortedData">
          <td *ngFor="let col of columns">
            <ng-container [ngSwitch]="col.type">
              <ng-container *ngSwitchCase="'date'">
                {{ row[col.key] | date:'dd/MM/yyyy' }}
              </ng-container>
              <ng-container *ngSwitchCase="'actions'">
                <div class="action-buttons">
                  <button (click)="onEdit.emit(row)" class="btn-edit">Editar</button>
                  <button (click)="onDelete.emit(row)" class="btn-delete">Eliminar</button>
                  <button
                    (click)="onToggleActive.emit(row)"
                    [ngClass]="row.isActive ? 'btn-deshabilitar' : 'btn-habilitar'">
                    {{ row.isActive ? 'ðŸš« Deshabilitar' : 'âœ… Habilitar' }}
                  </button>
                </div>
              </ng-container>
              <ng-container *ngSwitchDefault>
                {{ row[col.key] }}
              </ng-container>
            </ng-container>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <div class="table-footer">
    <div class="pagination-info">
      Mostrando {{ data.length }} usuarios de esta pÃ¡gina
    </div>
  </div>
</div>